!function(){"use strict";function e(e){return function(t){return Math.round(t*e)}}var t={seconds:e(1e3),minutes:e(6e4),hours:e(36e5),days:e(864e5),weeks:e(6048e5),months:e(26298e5),years:e(315576e5)},n={name:"appTime",reducer:Date.now,selectAppTime:function(e){return e.appTime}},r={START:1,SUCCESS:-1,ERROR:-1},o=/_(START|SUCCESS|ERROR)$/,a={name:"asyncCount",reducer:function(e,t){void 0===e&&(e=0);var n=t.type,a=o.exec(n);return a?e+r[a[1]]:e},selectAsyncActive:function(e){return e.asyncCount>0}};var i="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,u=(i||c||Function("return this")()).Symbol,s=Object.prototype,l=s.hasOwnProperty,f=s.toString,p=u?u.toStringTag:void 0;var d=Object.prototype.toString;var h="[object Null]",v="[object Undefined]",m=u?u.toStringTag:void 0;function b(e){return null==e?void 0===e?v:h:m&&m in Object(e)?function(e){var t=l.call(e,p),n=e[p];try{e[p]=void 0;var r=!0}catch(e){}var o=f.call(e);return r&&(t?e[p]=n:delete e[p]),o}(e):function(e){return d.call(e)}(e)}var y,g,w=(y=Object.getPrototypeOf,g=Object,function(e){return y(g(e))});var C="[object Object]",_=Function.prototype,E=Object.prototype,S=_.toString,x=E.hasOwnProperty,O=S.call(Object);var A=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),N={INIT:"@@redux/INIT"};function T(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(T)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],c=i,u=!1;function s(){c===i&&(c=i.slice())}function l(){return a}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return s(),c.push(e),function(){if(t){t=!1,s();var n=c.indexOf(e);c.splice(n,1)}}}function p(e){if(!function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||b(e)!=C)return!1;var t=w(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==O}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=o(a,e)}finally{u=!1}for(var t=i=c,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:N.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:N.INIT})}})[A]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[A]=function(){return this},e},r}function j(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function R(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n),i=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:N.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+N.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,o={},c=0;c<a.length;c++){var u=a[c],s=n[u],l=e[u],f=s(l,t);if(void 0===f){var p=j(u,t);throw new Error(p)}o[u]=f,r=r||f!==l}return r?o:e}}function k(e,t){return function(){return t(e.apply(void 0,arguments))}}function P(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return function(n,r,o){var a,i=t(n,r,o),c=i.dispatch;return a=e.map(function(e){return e(i)}),c=function(){for(var e=arguments,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,a)(i.dispatch),Object.assign(i,{dispatch:c})}}}function D(e,t){return e===t}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,n=null,r=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}var I=function(e){for(var t=arguments,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=t[o];return function(){for(var t=arguments,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=t[a];var i=0,c=o.pop(),u=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(o),s=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(r)),l=B(function(){for(var e=arguments,t=[],n=u.length,r=0;r<n;r++)t.push(u[r].apply(null,e));return s.apply(null,t)});return l.resultFunc=c,l.recomputations=function(){return i},l.resetRecomputations=function(){return i=0},l}}(B),U=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e.slice(-1)[0],r=function(e,t){var r=t.map(function(t){return function(e,t){if("string"!=typeof t)return t;var n=e[t];if(!n)throw Error("No selector "+t+" found on the obj.");return n}(e,t)});return r.push(n),I.apply(void 0,r)};return r.deps=e.slice(0,-1),r.resultFunc=n,r},F=!1;try{F=!!window.localStorage.debug}catch(tt){}var L,H=F,M="undefined"!=typeof window,W=M||"undefined"!=typeof self,V=function(e){setTimeout(e,0)},q=W&&self.requestAnimationFrame||V,$=W&&self.requestIdleCallback||V,G=function(e,t){return e.substr(0,t.length)===t},z=function(e,t){W&&self.addEventListener(e,t)},J=function(e){var t="s"===e[0]?6:5;return e[t].toLowerCase()+e.slice(t+1)},K=function(e){var t=e.name;if(!t)throw TypeError('bundles must have a "name" property');var n={name:t,reducer:e.reducer||e.getReducer&&e.getReducer()||null,init:e.init||null,extraArgCreators:e.getExtraArgs||null,middlewareCreators:e.getMiddleware,actionCreators:null,selectors:null,reactorNames:null,rawBundle:e};return Object.keys(e).forEach(function(t){if(!G(t,"do")){var r=G(t,"select"),o=G(t,"react");return r||o?((n.selectors||(n.selectors={}))[t]=e[t],void(o&&(n.reactorNames||(n.reactorNames=[])).push(t))):void 0}(n.actionCreators||(n.actionCreators={}))[t]=e[t]}),n},Q=function(e){var t={bundleNames:[],reducers:{},selectors:{},actionCreators:{},rawBundles:[],processedBundles:[],initMethods:[],middlewareCreators:[],extraArgCreators:[],reactorNames:[]};return e.map(K).forEach(function(e){var n;t.bundleNames.push(e.name),Object.assign(t.selectors,e.selectors),Object.assign(t.actionCreators,e.actionCreators),e.reducer&&Object.assign(t.reducers,((L={})[e.name]=e.reducer,L)),e.init&&t.initMethods.push(e.init),e.middlewareCreators&&t.middlewareCreators.push(e.middlewareCreators),e.extraArgCreators&&t.extraArgCreators.push(e.extraArgCreators),e.reactorNames&&(n=t.reactorNames).push.apply(n,e.reactorNames),t.processedBundles.push(e),t.rawBundles.push(e.rawBundle)}),t};var Y=function(e,t){e.meta||(e.meta={chunks:[],unboundSelectors:{},unboundActionCreators:{},reactorNames:[]});var n=e.meta;n.chunks.push(t);var r=Object.assign(n.unboundSelectors,t.selectors);!function(e){var t=function(t){return t.call&&!t.deps||!e[t].deps},n=!1,r=function(r){var o=e[r];t(r)?n=!0:o.deps=o.deps.map(function(t,o){if(t.call){for(var a in e)if(e[a]===t)return a;if(!t.deps)return n=!0,t}if(e[t])return t;throw Error("The input selector at index "+o+" for '"+r+"' is missing from the object passed to resolveSelectors()")})};for(var o in e)r(o);if(!n)throw Error("You must pass at least one real selector. If they're all string references there's no");for(var a,i=function(){var n=!1;for(var r in e){var o=e[r];t(r)||(n=!0,o.deps.every(t)&&(e[r]=o(e,o.deps)))}return n};i();)if(a||(a=Date.now()),Date.now()-a>500)throw Error("Could not resolve selector dependencies.")}(r),n.unboundSelectors=r,function(e,t){var n=function(n){var r=t[n];e[n]||(e[n]=function(){return r(e.getState())})};for(var r in t)n(r)}(e,r),n.reactorNames=n.reactorNames.concat(t.reactorNames),Object.assign(n.unboundActionCreators,t.actionCreators),Object.assign(e,function(e,t){if("function"==typeof e)return k(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o],i=e[a];"function"==typeof i&&(r[a]=k(i,t))}return r}(t.actionCreators,e.dispatch)),t.initMethods.forEach(function(t){return t(e)})},X=function(e){return function(t,n){return"BATCH_ACTIONS"===n.type?n.actions.reduce(e,t):e(t,n)}},Z=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Q(e);return function(e){var t,r=T(X(R(n.reducers)),e,P.apply(void 0,[function(e){return function(t){return function(n){var r=n.actionCreator,o=n.args;if(r){var a=e.meta.unboundActionCreators[r];if(!a)throw Error("NoSuchActionCreator: "+r);return t(o?a.apply(void 0,o):a())}return t(n)}}},(t=n.extraArgCreators,function(e){var n=t.reduce(function(t,n){return Object.assign(t,n(e))},{});return function(t){return function(r){if("function"==typeof r){var o=e.getState,a=e.dispatch;return r(Object.assign({},{getState:o,dispatch:a,store:e},n))}return t(r)}}}),function(e){return function(t){return function(n){var r=e.getState().debug;r&&(console.group(n.type),console.info("action:",n));var o=t(n);return r&&(console.debug("state:",e.getState()),self.logSelectors&&self.logSelectors(),self.logNextReaction&&self.logNextReaction(),console.groupEnd(n.type)),o}}}].concat(n.middlewareCreators.map(function(e){return e(n)})))),o=r.dispatch;return r.dispatch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return o(e.length>1?{type:"BATCH_ACTIONS",actions:e}:e[0])},r.select=function(e){return e.reduce(function(e,t){if(!r[t])throw Error("SelectorNotFound "+t);return e[J(t)]=r[t](),e},{})},r.selectAll=function(){return r.select(Object.keys(r.meta.unboundSelectors))},r.action=function(e,t){return r[e].apply(r,t)},Y(r,n),function(e){e.subscriptions={watchedValues:{}};var t=e.subscriptions.set=new Set,n=e.subscriptions.watchedSelectors={},r=function(e){n[e]=(n[e]||0)+1},o=function(e){var t=n[e]-1;0===t?delete n[e]:n[e]=t};e.subscribe(function(){var r=n.all?e.selectAll():e.select(Object.keys(n)),o=e.subscriptions.watchedValues,a={};for(var i in r){var c=r[i];c!==o[i]&&(a[i]=c)}e.subscriptions.watchedValues=r,t.forEach(function(e){var t={},n=!1;"all"===e.names?(Object.assign(t,a),n=!!Object.keys(t).length):e.names.forEach(function(e){a.hasOwnProperty(e)&&(t[e]=a[e],n=!0)}),n&&e.fn(t)})}),e.subscribeToAllChanges=function(t){return e.subscribeToSelectors("all",t)},e.subscribeToSelectors=function(n,a){var i="all"===n,c={fn:a,names:i?"all":n.map(J)};return t.add(c),i?r("all"):n.forEach(r),Object.assign(e.subscriptions.watchedValues,i?e.selectAll():e.select(n)),function(){t.delete(c),i?o("all"):n.forEach(o)}}}(r),r.integrateBundles=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];Y(r,Q(e));var n=r.meta.chunks.reduce(function(e,t){return Object.assign(e,t.reducers)},{});r.replaceReducer(X(R(n)))},r}},ee=/\((.*?)\)/g,te=/(\(\?)?:\w+/g,ne=/[\-{}\[\]+?.,\\\^$|#\s]/g,re=/\*/g,oe=function(e,t){var n=Object.keys(e);for(var r in e)e[r]={value:e[r]};return function(r){var o,a;return n.some(function(t){var n,i,c;(a=e[t]).regExp||(c=[],i=(i=t).replace(ne,"\\$&").replace(ee,"(?:$1)?").replace(te,function(e,t){return c.push(e.slice(1)),t?e:"([^/?]+)"}).replace(re,function(e,t){return c.push("path"),"([^?]*?)"}),n={regExp:new RegExp("^"+i+"(?:\\?([\\s\\S]*))?$"),namedParams:c},a.regExp=n.regExp,a.namedParams=n.namedParams,a.pattern=t);var u=a.regExp.exec(r);if(u)return u=u.slice(1,-1),o=u.reduce(function(e,t,n){return t&&(e[a.namedParams[n]]=t),e},{}),!0})?{page:a.value,params:o,url:r,pattern:a.pattern}:t?{page:t,url:r,params:null}:null}};var ae={name:"online",selectIsOnline:function(e){return e.online},reducer:function(e,t){void 0===e&&(e=!0);var n=t.type;return"OFFLINE"!==n&&("ONLINE"===n||e)},init:function(e){z("online",function(){return e.dispatch({type:"ONLINE"})}),z("offline",function(){return e.dispatch({type:"OFFLINE"})})}};var ie={maxAge:1/0,version:0,lib:function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(){var t;function n(e,n){return(t||(t=new Promise(function(e,t){var n=indexedDB.open("keyval-store",1);n.onerror=function(){t(n.error)},n.onupgradeneeded=function(){n.result.createObjectStore("keyval")},n.onsuccess=function(){e(n.result)}})),t).then(function(t){return new Promise(function(r,o){var a=t.transaction("keyval",e);a.oncomplete=function(){r()},a.onerror=function(){o(a.error)},n(a.objectStore("keyval"))})})}var r={get:function(e){var t;return n("readonly",function(n){t=n.get(e)}).then(function(){return t.result})},set:function(e,t){return n("readwrite",function(n){n.put(t,e)})},delete:function(e){return n("readwrite",function(t){t.delete(e)})},clear:function(){return n("readwrite",function(e){e.clear()})},keys:function(){var e=[];return n("readonly",function(t){(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(function(){return e})}};e.exports?e.exports=r:self.idbKeyval=r}()})},ce={version:0,cacheFunction:function(e,t,n){var r=Object.assign({},ie,n);return r.lib.set(e,JSON.stringify({version:r.version,time:Date.now(),data:t})).catch(function(){return null})}};var ue={idleTimeout:3e4,idleAction:"APP_IDLE",doneCallback:null,stopWhenTabInactive:!0},se={timeout:500},le=function(e,t,n){return function(e,t){var n,r=function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,o)},t)};return r.cancel=function(){clearTimeout(n)},r}(function(){e?q(function(){return $(n,se)}):$(n,se)},t)};function fe(e){return{name:"reactors",init:function(t){e||(e={}),Object.assign(e,ue);var n,r=e.idleAction,o=e.idleTimeout;o&&(n=le(e.stopWhenTabInactive,o,function(){return t.dispatch({type:r})}));var a=function(){t.nextReaction||(t.meta.reactorNames.some(function(e){var n=t[e]();return n&&(t.activeReactor=e,t.nextReaction=n),n}),t.nextReaction&&$(function(){var e=t.nextReaction;t.activeReactor=null,t.nextReaction=null,t.dispatch(e)},se)),n&&(n(),W||t.nextReaction||t.selectAsyncActive&&t.selectAsyncActive()||(n&&n.cancel(),e.doneCallback&&e.doneCallback()))};t.subscribe(a),a()}}}var pe=Object.prototype.hasOwnProperty;var de={stringify:function(e,t){t=t||"";var n=[];for(var r in"string"!=typeof t&&(t="?"),e)pe.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""},parse:function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return r}},he=function(e){return void 0!==e},ve=function(e){return"string"==typeof e?e:de.stringify(e)},me=/^[0-9\.]+$/,be=function(e,t){if(me.test(e))return[];var n=e.split(".");return t?n.slice(-2).join("."):e.split(".").slice(0,-2)},ye=function(e,t){return t.charAt(0)===e?t.slice(1):t},ge=function(e,t){return t===e||""===t?"":t.charAt(0)!==e?e+t:t},we=M?window.location:{},Ce={name:"url",inert:!M,actionType:"UPDATE_URL"};var _e={name:"debug",reducer:function(e,t){void 0===e&&(e=H);var n=t.type;return"ENABLE_DEBUG"===n||"DISABLE_DEBUG"!==n&&e},doEnableDebug:function(){return{type:"ENABLE_DEBUG"}},doDisableDebug:function(){return{type:"DISABLE_DEBUG"}},selectIsDebug:function(e){return e.debug},init:function(e){if(e.selectIsDebug()){var t=e.meta.chunks[0].bundleNames;self.store=e;var n=[];for(var r in e)0===r.indexOf("do")&&n.push(r);n.sort();e.logSelectors=self.logSelectors=function(){e.selectAll&&console.log("%cselectors:","color: #4CAF50;",e.selectAll())},e.logBundles=self.logBundles=function(){console.log("%cinstalled bundles:\n  %c%s","color: #1676D2;","color: black;",t.join("\n  "))},e.logActionCreators=self.logActionCreators=function(){console.groupCollapsed("%caction creators","color: #F57C00;"),n.forEach(function(e){return console.log(e)}),console.groupEnd()},e.logReactors=self.logReactors=function(){console.groupCollapsed("%creactors","color: #F57C00;"),e.meta.reactorNames.forEach(function(e){return console.log(e)}),console.groupEnd()},e.logNextReaction=self.logNextReaction=function(){var t=e.nextReaction,n=e.activeReactor;t&&console.log("%cnext reaction:\n  %c"+n,"color: #F57C00;","color: black;",t)},console.groupCollapsed("%credux bundler v%s","color: #1676D2;","16.1.0"),e.logBundles(),e.logSelectors(),e.logReactors(),console.groupEnd(),e.isReacting&&console.log("%cqueuing reaction:","color: #F57C00;")}}},Ee=function(e){var t=Object.assign({},ce,e);return{name:"localCache",getMiddleware:function(e){var n={};return e.rawBundles.forEach(function(e){e.persistActions&&e.persistActions.forEach(function(t){n[t]||(n[t]=[]),n[t].push(e.name)})}),function(e){var r=e.getState;return function(e){return function(o){var a=n[o.type],i=e(o),c=r();return a&&W&&$(function(){Promise.all(a.map(function(e){return t.cacheFunction(e,c[e],{version:t.version})})).then(function(){c.debug&&console.info("persisted "+a.join(", ")+" because of action "+o.type)})}),i}}}}}},Se=function(e){return{name:"routes",selectRouteInfo:U("selectPathname",oe(e)),selectRouteParams:U("selectRouteInfo",function(e){return e.params}),selectCurrentComponent:U("selectRouteInfo",function(e){return e.page})}};var xe={},Oe=[],Ae=[];function Ne(e,t){var n,r,o,a,i=arguments,c=Ae;for(a=arguments.length;a-- >2;)Oe.push(i[a]);for(t&&null!=t.children&&(Oe.length||Oe.push(t.children),delete t.children);Oe.length;)if((r=Oe.pop())&&void 0!==r.pop)for(a=r.length;a--;)Oe.push(r[a]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?c[c.length-1]+=r:c===Ae?c=[r]:c.push(r),n=o;var u=new function(){};return u.nodeName=e,u.children=c,u.attributes=null==t?void 0:t,u.key=null==t?void 0:t.key,void 0!==xe.vnode&&xe.vnode(u),u}function Te(e,t){for(var n in t)e[n]=t[n];return e}var je="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,Re=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,ke=[];function Pe(e){!e._dirty&&(e._dirty=!0)&&1==ke.push(e)&&(xe.debounceRendering||je)(De)}function De(){var e,t=ke;for(ke=[];e=t.pop();)e._dirty&&Xe(e)}function Be(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function Ie(e){var t=Te({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function Ue(e){var t=e.parentNode;t&&t.removeChild(e)}function Fe(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"==typeof r[a]&&!1===Re.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var i=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Le,i):e.removeEventListener(t,Le,i),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)!function(e,t,n){try{e[t]=n}catch(e){}}(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var c=o&&t!==(t=t.replace(/^xlink\:?/,""));null==r||!1===r?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(c?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function Le(e){return this._listeners[e.type](xe.event&&xe.event(e)||e)}var He=[],Me=0,We=!1,Ve=!1;function qe(){for(var e;e=He.pop();)xe.afterMount&&xe.afterMount(e),e.componentDidMount&&e.componentDidMount()}function $e(e,t,n,r,o){var a=e,i=We;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),Ge(e,!0))),a.__preactattr_=!0,a;var c,u,s=t.nodeName;if("function"==typeof s)return function(e,t,n,r){var o=e&&e._component,a=o,i=e,c=o&&e._componentConstructor===t.nodeName,u=c,s=Ie(t);for(;o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;o&&u&&(!r||o._component)?(Ye(o,s,3,n,r),e=o.base):(a&&!c&&(Ze(a),e=i=null),o=Ke(t.nodeName,s,n),e&&!o.nextBase&&(o.nextBase=e,i=null),Ye(o,s,1,n,r),e=o.base,i&&e!==i&&(i._component=null,Ge(i,!1)));return e}(e,t,n,r);if(We="svg"===s||"foreignObject"!==s&&We,s=String(s),(!e||!Be(e,s))&&(c=s,(u=We?document.createElementNS("http://www.w3.org/2000/svg",c):document.createElement(c)).normalizedNodeName=c,a=u,e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),Ge(e,!0)}var l=a.firstChild,f=a.__preactattr_,p=t.children;if(null==f){f=a.__preactattr_={};for(var d=a.attributes,h=d.length;h--;)f[d[h].name]=d[h].value}return!Ve&&p&&1===p.length&&"string"==typeof p[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=p[0]&&(l.nodeValue=p[0]):(p&&p.length||null!=l)&&function(e,t,n,r,o){var a,i,c,u,s,l=e.childNodes,f=[],p={},d=0,h=0,v=l.length,m=0,b=t?t.length:0;if(0!==v)for(var y=0;y<v;y++){var g=l[y],w=g.__preactattr_,C=b&&w?g._component?g._component.__key:w.key:null;null!=C?(d++,p[C]=g):(w||(void 0!==g.splitText?!o||g.nodeValue.trim():o))&&(f[m++]=g)}if(0!==b)for(var y=0;y<b;y++){u=t[y],s=null;var C=u.key;if(null!=C)d&&void 0!==p[C]&&(s=p[C],p[C]=void 0,d--);else if(!s&&h<m)for(a=h;a<m;a++)if(void 0!==f[a]&&(_=i=f[a],S=o,"string"==typeof(E=u)||"number"==typeof E?void 0!==_.splitText:"string"==typeof E.nodeName?!_._componentConstructor&&Be(_,E.nodeName):S||_._componentConstructor===E.nodeName)){s=i,f[a]=void 0,a===m-1&&m--,a===h&&h++;break}s=$e(s,u,n,r),c=l[y],s&&s!==e&&s!==c&&(null==c?e.appendChild(s):s===c.nextSibling?Ue(c):e.insertBefore(s,c))}var _,E,S;if(d)for(var y in p)void 0!==p[y]&&Ge(p[y],!1);for(;h<=m;)void 0!==(s=f[m--])&&Ge(s,!1)}(a,p,n,r,Ve||null!=f.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||Fe(e,r,n[r],n[r]=void 0,We);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||Fe(e,r,n[r],n[r]=t[r],We)}(a,t.attributes,f),We=i,a}function Ge(e,t){var n=e._component;n?Ze(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||Ue(e),ze(e))}function ze(e){for(e=e.lastChild;e;){var t=e.previousSibling;Ge(e,!0),e=t}}var Je={};function Ke(e,t,n){var r,o=Je[e.name];if(e.prototype&&e.prototype.render?(r=new e(t,n),et.call(r,t,n)):((r=new et(t,n)).constructor=e,r.render=Qe),o)for(var a=o.length;a--;)if(o[a].constructor===e){r.nextBase=o[a].nextBase,o.splice(a,1);break}return r}function Qe(e,t,n){return this.constructor(e,n)}function Ye(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===xe.syncComponentUpdates&&e.base?Pe(e):Xe(e,1,o)),e.__ref&&e.__ref(e))}function Xe(e,t,n,r){if(!e._disable){var o,a,i,c=e.props,u=e.state,s=e.context,l=e.prevProps||c,f=e.prevState||u,p=e.prevContext||s,d=e.base,h=e.nextBase,v=d||h,m=e._component,b=!1;if(d&&(e.props=l,e.state=f,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,s)?b=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,s),e.props=c,e.state=u,e.context=s),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!b){o=e.render(c,u,s),e.getChildContext&&(s=Te(Te({},s),e.getChildContext()));var y,g,w=o&&o.nodeName;if("function"==typeof w){var C=Ie(o);(a=m)&&a.constructor===w&&C.key==a.__key?Ye(a,C,1,s,!1):(y=a,e._component=a=Ke(w,C,s),a.nextBase=a.nextBase||h,a._parentComponent=e,Ye(a,C,0,s,!1),Xe(a,1,n,!0)),g=a.base}else i=v,(y=m)&&(i=e._component=null),(v||1===t)&&(i&&(i._component=null),g=function(e,t,n,r,o,a){Me++||(We=null!=o&&void 0!==o.ownerSVGElement,Ve=null!=e&&!("__preactattr_"in e));var i=$e(e,t,n,r,a);return o&&i.parentNode!==o&&o.appendChild(i),--Me||(Ve=!1,a||qe()),i}(i,o,s,n||!d,v&&v.parentNode,!0));if(v&&g!==v&&a!==m){var _=v.parentNode;_&&g!==_&&(_.replaceChild(g,v),y||(v._component=null,Ge(v,!1)))}if(y&&Ze(y),e.base=g,g&&!r){for(var E=e,S=e;S=S._parentComponent;)(E=S).base=g;g._component=E,g._componentConstructor=E.constructor}}if(!d||n?He.unshift(e):b||(e.componentDidUpdate&&e.componentDidUpdate(l,f,p),xe.afterUpdate&&xe.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Me||r||qe()}}function Ze(e){xe.beforeUnmount&&xe.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?Ze(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,Ue(t),function(e){var t=e.constructor.name;(Je[t]||(Je[t]=[])).push(e)}(e),ze(t)),e.__ref&&e.__ref(null)}function et(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}Te(et.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=Te({},n)),Te(n,"function"==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),Pe(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),Xe(this,2)},render:function(){}});var tt=function(){for(var e=arguments,t=[],n=arguments.length;n--;)t[n]=e[n];var r=t.slice(-1)[0],o=[],a=[];return(t.length>1?t.slice(0,-1):[]).forEach(function(e){if("select"!==e.slice(0,6)){if("do"!==e.slice(0,2))throw Error("CanNotConnect "+e);o.push(e)}else a.push(e)}),function(e){function t(t,n){var r=this;e.call(this,t,n);var i=n.store;this.state=i.select(a),this.unsubscribe=i.subscribeToSelectors(a,this.setState.bind(this)),this.actionCreators={},o.forEach(function(e){r.actionCreators[e]=function(){for(var t=arguments,n=[],r=arguments.length;r--;)n[r]=t[r];return i.action?i.action(e,n):i[e].apply(i,n)}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(e,t){return Ne(r,Object.assign({},e,t,this.actionCreators))},t}(et)};tt("selectBaseDataStatus","selectBaseData",function(e){var t=e.baseDataStatus,n=e.baseData;return Ne("article",null,Ne("p",null,"Open dev tools to see output of debug bundle. The current version of redux-bundler you're running, the list of installed bundles, etc."),Ne("p",null,"This app uses the awesome ",Ne("a",{href:"https://swapi.co/"},"SWAPI")," as an API to demonstrate how you can reactively trigger data fetching due to the the application's current state rather than by some arbitrary component being displayed."),Ne("p",null,"It will never fetch unless its data is stale, or it needs to retry to do a failed attempt to fetch"),Ne("p",null,"This entire app with all dependencies and without any tree-shaking is approx 18.5 kbs min + gzip"),Ne("h3",null,"Things to try"),Ne("ul",null,Ne("li",{class:"mb2"},"Leave this page open, and watch the log output in the console. The data will be refreshed if its older than one minute."),Ne("li",{class:"mb2"},"While you have the page loaded, use devtools to force the app to go offline. It will keep showing the data it has, but will now retry more actively. These fetches will fail, but it will still show the data it has. Now, make it go online again, and you should see the data getting refreshed rather quickly."),Ne("li",{class:"mb2"},'The "APP_IDLE" actions will only be dispatched when the tab is in focus. Test this out by opening the network tab in devtools and clearing it, now switching away to a different tab for a while. When you switch back you\'ll notice no fetches occured while you were away, but as soon as you switch back to this tab a fetch is immediately triggered.'),Ne("li",{class:"mb3"},"Whenever there has been a successful fetch, the data is persisted to indexedDB via the localCaching bundle (including metadata about the fetch). So if you refresh and it successfully fetched data recentl enough, no fetch is triggered at all.")),Ne("div",{class:"ph3 ba br3 bg-lightest-blue"},Ne("h3",null,"Dynamically Fetched Data:"),Ne("p",null,"Source: https://swapi.co/api/"),Ne("p",null,"Status: ",t),Ne("p",null,"result: ",Ne("pre",null,Ne("code",null,JSON.stringify(n,null,2))))))});tt("selectRouteParams","selectActivePerson",function(e){var t=e.routeParams,n=e.activePerson;return Ne("article",null,Ne("h1",null,"Demo of an item detail view"),Ne("p",null,"the route parameters that are available in redux with this URL open: ",Ne("pre",null,Ne("code",null,JSON.stringify(t,null,2)))),Ne("p",null,"We can use this in our selectors to determine if this is data we have or need to fetch."),Ne("p",null,Ne("pre",null,Ne("code",null,JSON.stringify(n,null,2)))))});tt("selectPeopleData",function(e){var t=e.peopleData;return Ne("article",null,Ne("h1",null,"People Data"),!t&&Ne("p",null,"No data yet"),t&&t.map(function(e){return Ne("ul",null,Ne("li",null,Ne("a",{href:"/people/"+e.id},e.name)))}))});var nt={name:"extra-args",getExtraArgs:function(e){return{swapiFetch:function(e){return fetch("https://swapi.co/api"+e).then(function(e){return e.json()}).catch(function(e){throw e})}}}},rt=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];e||(e=[]);var r,o,i,c,u,s,l,f,p,d,h,v,m,b=[n,a,ae,(o=Object.assign({},Ce,r),i=o.actionType,c=function(e){return e[o.name]},u=U(c,function(e){return new URL(e.url)}),s=U(u,function(e){return de.parse(e.search)}),l=U(s,function(e){return de.stringify(e)}),f=U(u,function(e){return e.pathname}),p=U(u,function(e){return ye("#",e.hash)}),d=U(p,function(e){return de.parse(e)}),h=U(u,function(e){return e.hostname}),v=U(h,function(e){return be(e)}),m=function(e,t){return void 0===t&&(t={replace:!1}),function(n){var r=n.dispatch,o=n.getState,a=e;if("string"==typeof e){var u=new URL("/"===e.charAt(0)?"http://example.com"+e:e);a={pathname:u.pathname,query:u.search||"",hash:u.hash||""}}var s=new URL(c(o()).url);he(a.pathname)&&(s.pathname=a.pathname),he(a.hash)&&(s.hash=ve(a.hash)),he(a.query)&&(s.search=ve(a.query)),r({type:i,payload:{url:s.href,replace:t.replace}})}},{name:o.name,init:function(e){if(!o.inert){var t=e.selectUrlRaw();window.addEventListener("popstate",function(){e.doUpdateUrl({pathname:we.pathname,hash:we.hash,query:we.search})}),e.subscribe(function(){var n=e.selectUrlRaw(),r=n.url;if(t!==n&&r!==we.href)try{window.history[n.replace?"replaceState":"pushState"]({},null,n.url),document.body.scrollTop=0}catch(e){console.error(e)}t=n})}},getReducer:function(){var e={url:!o.inert&&M?we.href:"/",replace:!1};return function(t,n){void 0===t&&(t=e);var r=n.type,o=n.payload;return"@@redux/INIT"===r&&"string"==typeof t?{url:t,replace:!1}:r===i?Object.assign({url:o.url||o,replace:!!o.replace}):t}},doUpdateUrl:m,doReplaceUrl:function(e){return m(e,{replace:!0})},doUpdateQuery:function(e,t){return void 0===t&&(t={replace:!0}),m({query:ve(e)},t)},doUpdateHash:function(e,t){return void 0===t&&(t={replace:!1}),m({hash:ge("#",ve(e))},t)},selectUrlRaw:c,selectUrlObject:u,selectQueryObject:s,selectQueryString:l,selectPathname:f,selectHash:p,selectHashObject:d,selectHostname:h,selectSubdomains:v}),fe(),_e].concat(e);return Z.apply(void 0,b)}(Se({"/":"home","/people":"people","/people/:id":"personDetail"}),{name:"baseData",getReducer:function(){var e={loading:!1,lastError:null,lastFetch:null,data:null};return function(t,n){void 0===t&&(t=e);var r=n.type,o=n.payload;return"FETCH_BASE_START"===r?Object.assign({},t,{loading:!0}):"FETCH_BASE_ERROR"===r?Object.assign({},t,{lastError:Date.now(),loading:!1}):"FETCH_BASE_SUCCESS"===r?Object.assign({},t,{lastFetch:Date.now(),loading:!1,lastError:null,data:Object.keys(o).map(function(e){return{id:e,url:o[e]}})}):t}},doFetchBaseData:function(){return function(e){var t=e.dispatch,n=e.swapiFetch;t({type:"FETCH_BASE_START"}),n("/").then(function(e){t({type:"FETCH_BASE_SUCCESS",payload:e})}).catch(function(e){t({type:"FETCH_BASE_ERROR",error:e})})}},selectBaseDataRaw:function(e){return e.baseData},selectBaseData:function(e){return e.baseData.data},selectBaseDataStatus:U("selectBaseDataRaw",function(e){var t=e.data,n=e.lastError,r=e.lastFetch,o=e.loading,a="";return a+=t?"Has data":"Does not have data",o?a+" and is fetching currently":n?a+" but had an error at "+n+" and will retry after ~30 seconds":r?a+" that was fetched at "+r+" but will updated a minute later":void 0}),reactShouldFetchBaseData:U("selectBaseDataRaw","selectAppTime",function(e,t){if(e.loading)return null;var n=!1;if(e.data){if(e.lastError){t-e.lastError>15e3&&(n=!0)}else if(e.lastFetch){t-e.lastFetch>6e4&&(n=!0)}}else n=!0;return n?{actionCreator:"doFetchBaseData"}:void 0}),persistActions:["FETCH_BASE_SUCCESS"]},{name:"people",getReducer:function(){var e={data:null,loading:!1};return function(t,n){void 0===t&&(t=e);var r=n.type,o=n.payload;return"FETCH_PEOPLE_START"===r?Object.assign({},t,{loading:!0}):"FETCH_PEOPLE_SUCCESS"===r?Object.assign({},t,{loading:!1,data:o.results.map(function(e){var t=e.url.split("/"),n=t[t.length-2];return Object.assign(e,{id:n})})}):t}},doFetchPeople:function(){return function(e){var t=e.dispatch,n=e.swapiFetch;t({type:"FETCH_PEOPLE_START"}),n("/people").then(function(e){t({type:"FETCH_PEOPLE_SUCCESS",payload:e})})}},selectPeopleRaw:function(e){return e.people},selectPeopleData:function(e){return e.people.data},selectActivePerson:U("selectRouteParams","selectPathname","selectPeopleData",function(e,t,n){return t.includes("/people")&&e.id&&n&&n.find(function(t){return t.id===e.id})||null}),reactShouldFetchPeople:U("selectPeopleRaw",function(e){return!e.loading&&!e.data&&{actionCreator:"doFetchPeople"}})},Ee({version:1}),nt);self.fetch||importScripts("https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.1/fetch.min.js");var ot,at,it,ct,ut=(ot={version:1,maxAge:t.weeks(1)},(it=Object.assign({},ie,ot)).lib.keys().then(function(e){return at=e,Promise.all(at.map(function(e){return function(e,t){var n=Object.assign({},ie,t),r=n.maxAge,o=n.version,a=n.lib;return a.get(e).then(JSON.parse).then(function(t){var n=Date.now()-t.time;return n>r||o!==t.version?(a.delete(e),null):{age:n,data:t.data}}).catch(function(){return null})}(e,it).then(function(e){return e.data})}))}).then(function(e){return e.reduce(function(e,t,n){return t&&(e[at[n]]=t),e},{})}).catch(function(){})),st={before:{},after:{}};self.onmessage=function(e){var t=e.data;console.log("ðŸ”ƒ from main",t);var n=t.cbId,r=t.type,o=t.payload,a=t.name;if("callback"===r&&(self[n](t),delete self[n]),"initial"!==r)if("action"!==r);else{var i=o||[],c=ct[a];if(!c)throw Error("ðŸ’¥ no action "+a+" on store");c.apply(void 0,i)}else ut.then(function(e){var t=function(){st.after=ct.selectAll();var e=function(){var e={},t=st.before,n=st.after;for(var r in n)t[r]!==n[r]&&(e[r]=n[r]);return e}();delete e.urlObject,self.postMessage(e),st.before=st.after};(ct=rt(Object.assign({},e,o))).subscribe(t),t()})}}();
